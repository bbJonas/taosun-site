---
import BaseLayout from "../layouts/BaseLayout.astro";
const productEntries = Object.values(import.meta.glob("../content/products/de/*.md", { eager: true }));
const categories = ["Solarmodule", "Wechselrichter", "Blitzschutz"];
const title = "Produkte";
const langToggleUrl = "/en/products";
---
<BaseLayout {title} {langToggleUrl}>
  <h1>Unsere Produkte</h1>
  {categories.map(cat => (
    <section>
      <h2>{cat}</h2>
      <div class="product-list">
        {productEntries.filter(p => p.frontmatter.category === cat)
                       .map(p => (
          <div class="product">
            <h3>{p.frontmatter.title}</h3>
            <p>{p.frontmatter.description}</p>
          </div>
        ))}
      </div>
    </section>
  ))}
</BaseLayout>
